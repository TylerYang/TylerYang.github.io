<!DOCTYPE html>
<html lang="en">
<head>
    <title> Reverse Hash Function - Google Challenge · Tyler </title>
    <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="browsermode" content="application">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Tyler">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="msapplication-navbutton-color" content="#666666">
<meta name= "format-detection" content="telephone=no" />
<meta name="keywords" content="nlvi, Nlvi" />


    <meta name="subtitle" content="Learning requires inefficiency">




    <meta name="keywords" content="Algorithm, Google Challenge, Nlvi" />

<link rel="stylesheet" href="/style/style.css">
<script src="/script/jquery.min.js"></script>
<script>
    var CONFIG = {
        title: "Tyler",
        author: "Tyler Yang",
        lightbox: true,
        animate: true
    }
</script>



    <link rel="stylesheet" href="/lightbox/css/lightbox.min.css">




    <link rel="stylesheet" href="/syuanpi/syuanpi.min.css">










</head>
<body>
    <div class="progress">
    <div class="progress-inner"></div>
</div>
    <div class="body">
    <div class="tagcloud-mask"></div>  
<div class="tagcloud" id="tagcloud">
    <div class="tagcloud-inner">
        <a href="/tags/Algorithm/" style="font-size: 14px;">Algorithm</a> <a href="/tags/Big-Data/" style="font-size: 14px;">Big Data</a> <a href="/tags/CSAPP/" style="font-size: 14px;">CSAPP</a> <a href="/tags/Computational-Advertising/" style="font-size: 14px;">Computational Advertising</a> <a href="/tags/Design/" style="font-size: 14px;">Design</a> <a href="/tags/Dynamic-Programming/" style="font-size: 14px;">Dynamic Programming</a> <a href="/tags/ETL/" style="font-size: 14px;">ETL</a> <a href="/tags/Elm/" style="font-size: 14px;">Elm</a> <a href="/tags/Finite-State-Automata/" style="font-size: 14px;">Finite State Automata</a> <a href="/tags/Functional-Programming/" style="font-size: 14px;">Functional Programming</a> <a href="/tags/Functional-Reactive-Programming/" style="font-size: 14px;">Functional Reactive Programming</a> <a href="/tags/Golang/" style="font-size: 14px;">Golang</a> <a href="/tags/Google-Challenge/" style="font-size: 14px;">Google Challenge</a> <a href="/tags/Google-Code-Jam/" style="font-size: 14px;">Google Code Jam</a> <a href="/tags/Google-Code-Jam-2016/" style="font-size: 14px;">Google Code Jam 2016</a> <a href="/tags/Greedy-Algorithm/" style="font-size: 14px;">Greedy Algorithm</a> <a href="/tags/Kafka/" style="font-size: 14px;">Kafka</a> <a href="/tags/Language/" style="font-size: 14px;">Language</a> <a href="/tags/Leetcode/" style="font-size: 14px;">Leetcode</a> <a href="/tags/Reactive/" style="font-size: 14px;">Reactive</a> <a href="/tags/Reactive-Extensions/" style="font-size: 14px;">Reactive Extensions</a> <a href="/tags/Rich-Hickey/" style="font-size: 14px;">Rich Hickey</a> <a href="/tags/State-Machine/" style="font-size: 14px;">State Machine</a> <a href="/tags/Statistics/" style="font-size: 14px;">Statistics</a> <a href="/tags/Tech-Talk/" style="font-size: 14px;">Tech Talk</a> <a href="/tags/Tree/" style="font-size: 14px;">Tree</a> <a href="/tags/design-pattern/" style="font-size: 14px;">design pattern</a> <a href="/tags/javascript/" style="font-size: 14px;">javascript</a>
    </div>
</div>
    <header class="header" id="header">
    <div class="title syuanpi tvIn">
    <div class="table">
        <div class="connect">
            <div class="connect-inner">
                <span><a href="/">Tyler</a></span>
                
                    <span id="subtitle">Learning requires inefficiency</span>
                
            </div>
        </div>
    </div>
</div>
    <nav class="main-nav syuanpi tvIn">
<div class="table">

    <ul class="menu">
        
        <li class="menu-item">
            <a href="javascript:;" id="search">
                <span>Search</span>
                
                
            </a>
        </li>
        
        
        
            <li class="menu-item">
                <a href="/">
                    <span>Article</span>
                    
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="/archives">
                    <span>Archives</span>
                    
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="javascript:;" id="tags">
                    <span>Tags</span>
                    
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="/about">
                    <span>About</span>
                    
                    
                </a>
            </li>
        
        
    </ul>

</div>
</nav>
</header>
<div class="mobile-header">
    <div class="mobile-header-body">
        <div class="mobile-header-list">
            
            
                <div class="mobile-nav-item">
                    <a href="/">
                        <span>Article</span>
                        
                        
                    </a>
                </div>
            
            
            
                <div class="mobile-nav-item">
                    <a href="/archives">
                        <span>Archives</span>
                        
                        
                    </a>
                </div>
            
            
            
                <div class="mobile-nav-item inner-cloud">
                    <div class="mobile-nav-tag">
                        <a href="javascript:;" id="mobile-tags">
                            <span>Tags</span>
                            
                            
                        </a>
                    </div>
                    <div class="mobile-nav-tagcloud">
                        <div class="mobile-tagcloud-inner">
                            <a href="/tags/Algorithm/" style="font-size: 14px;">Algorithm</a> <a href="/tags/Big-Data/" style="font-size: 14px;">Big Data</a> <a href="/tags/CSAPP/" style="font-size: 14px;">CSAPP</a> <a href="/tags/Computational-Advertising/" style="font-size: 14px;">Computational Advertising</a> <a href="/tags/Design/" style="font-size: 14px;">Design</a> <a href="/tags/Dynamic-Programming/" style="font-size: 14px;">Dynamic Programming</a> <a href="/tags/ETL/" style="font-size: 14px;">ETL</a> <a href="/tags/Elm/" style="font-size: 14px;">Elm</a> <a href="/tags/Finite-State-Automata/" style="font-size: 14px;">Finite State Automata</a> <a href="/tags/Functional-Programming/" style="font-size: 14px;">Functional Programming</a> <a href="/tags/Functional-Reactive-Programming/" style="font-size: 14px;">Functional Reactive Programming</a> <a href="/tags/Golang/" style="font-size: 14px;">Golang</a> <a href="/tags/Google-Challenge/" style="font-size: 14px;">Google Challenge</a> <a href="/tags/Google-Code-Jam/" style="font-size: 14px;">Google Code Jam</a> <a href="/tags/Google-Code-Jam-2016/" style="font-size: 14px;">Google Code Jam 2016</a> <a href="/tags/Greedy-Algorithm/" style="font-size: 14px;">Greedy Algorithm</a> <a href="/tags/Kafka/" style="font-size: 14px;">Kafka</a> <a href="/tags/Language/" style="font-size: 14px;">Language</a> <a href="/tags/Leetcode/" style="font-size: 14px;">Leetcode</a> <a href="/tags/Reactive/" style="font-size: 14px;">Reactive</a> <a href="/tags/Reactive-Extensions/" style="font-size: 14px;">Reactive Extensions</a> <a href="/tags/Rich-Hickey/" style="font-size: 14px;">Rich Hickey</a> <a href="/tags/State-Machine/" style="font-size: 14px;">State Machine</a> <a href="/tags/Statistics/" style="font-size: 14px;">Statistics</a> <a href="/tags/Tech-Talk/" style="font-size: 14px;">Tech Talk</a> <a href="/tags/Tree/" style="font-size: 14px;">Tree</a> <a href="/tags/design-pattern/" style="font-size: 14px;">design pattern</a> <a href="/tags/javascript/" style="font-size: 14px;">javascript</a>
                        </div>
                    </div>
                </div>
            
            
            
                <div class="mobile-nav-item">
                    <a href="/about">
                        <span>About</span>
                        
                        
                    </a>
                </div>
            
            
        </div>
    </div>
    <div class="mobile-header-nav">
        <div class="mobile-header-item" id="mobile-left">
            <div class="header-menu-item">
                <span class="header-menu-line"></span>
            </div>
        </div>
        <h1 class="mobile-header-title">
            <a href="/">Tyler</a>
        </h1>
        <div class="mobile-header-item"></div>
    </div>
</div>

    <div class="container">
        <main class="main" id="main">
            
    
    <article class="post">
        <header class="post-header">
            <div class="post-time syuanpi riseIn-light back-1">
                <span>July 25, 2015</span>
                
                
                    <span class="post-category"><a href="/categories/Interview/">Interview</a></span>
                
                    <span class="post-category"><a href="/categories/Interview/Google-Challenge/">Google Challenge</a></span>
                
                
            </div>
            <h1 class="post-title syuanpi riseIn-light back-2">
            
                Reverse Hash Function - Google Challenge
            
            </h1>
            
                
                    <div class="post-tags syuanpi riseIn-light back-3">
                    
                        <a href="/tags/Algorithm/">Algorithm</a>
                    
                        <a href="/tags/Google-Challenge/">Google Challenge</a>
                    
                    </div>
                
            
        </header>
        <div class="post-content syuanpi riseIn-light back-3">
            
                <p>Recently I’ve been doing the Google Challenge, and I found a very interesting algorithm problem. Here is the problem.</p>
<h3 id="Reverse-a-Hash-Function-Level-3"><a href="#Reverse-a-Hash-Function-Level-3" class="headerlink" title="Reverse a Hash Function (Level 3)"></a>Reverse a Hash Function (Level 3)</h3><p>The function takes a 16 byte input and gives a 16 byte output. It uses multiplication (*), bit-wise exclusive OR (XOR) and modulo (%) to calculate an element of the digest based on elements of the input message: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">digest [i] = ( (<span class="number">129</span> * message[i]) XOR message[i-<span class="number">1</span>]) % <span class="number">256</span></div></pre></td></tr></table></figure>
<p>For the first element, the value of <code>message[-1]</code> is 0.<br>For example, if <code>message[0] = 1</code> and <code>message[1] = 129</code>, then:<br>For <code>digest[0]</code>:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">129</span> * message[<span class="number">0</span>] = <span class="number">129</span></div><div class="line"><span class="number">129</span> XOR message[-<span class="number">1</span>] = <span class="number">129</span></div><div class="line"><span class="number">129</span> % <span class="number">256</span> = <span class="number">129</span></div></pre></td></tr></table></figure></p>
<p>Thus <code>digest[0] = 129</code>.<br>For digest[1]:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">129</span>*message[<span class="number">1</span>] = <span class="number">16641</span></div><div class="line"><span class="number">16641</span> XOR message[<span class="number">0</span>] = <span class="number">16640</span></div><div class="line"><span class="number">16640</span> % <span class="number">256</span> = <span class="number">0</span></div></pre></td></tr></table></figure></p>
<p>Thus <code>digest[1] = 0</code>.<br>Write a function answer(digest) that takes <strong>an array of 16 integers</strong> and returns another array of 16 that correspond to the unique message that created this digest. Since each value is a single byte, the values are <strong>0 to 255</strong> for both message and digest.</p>
<h3 id="Test-cases"><a href="#Test-cases" class="headerlink" title="Test cases"></a>Test cases</h3><p>Inputs:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="keyword">int</span> list) digest = [<span class="number">0</span>, <span class="number">129</span>, <span class="number">3</span>, <span class="number">129</span>, <span class="number">7</span>, <span class="number">129</span>, <span class="number">3</span>, <span class="number">129</span>, <span class="number">15</span>, <span class="number">129</span>, <span class="number">3</span>, <span class="number">129</span>, <span class="number">7</span>, <span class="number">129</span>, <span class="number">3</span>, <span class="number">129</span>]</div></pre></td></tr></table></figure></p>
<p>Output:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="keyword">int</span> list) [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]</div></pre></td></tr></table></figure></p>
<p>Inputs:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="keyword">int</span> list) digest = [<span class="number">0</span>, <span class="number">129</span>, <span class="number">5</span>, <span class="number">141</span>, <span class="number">25</span>, <span class="number">137</span>, <span class="number">61</span>, <span class="number">149</span>, <span class="number">113</span>, <span class="number">145</span>, <span class="number">53</span>, <span class="number">157</span>, <span class="number">233</span>, <span class="number">185</span>, <span class="number">109</span>, <span class="number">165</span>]</div></pre></td></tr></table></figure></p>
<p>Output:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="keyword">int</span> list) [<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>, <span class="number">121</span>, <span class="number">144</span>, <span class="number">169</span>, <span class="number">196</span>, <span class="number">225</span>]</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>Basically this problem is about how to reverse this expression,<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">digest [i] = ( (<span class="number">129</span> * message[i]) XOR message[i-<span class="number">1</span>]) % <span class="number">256</span></div></pre></td></tr></table></figure></p>
<p>The first moment I saw this problem, I was wondering maybe I can just simply move the modulo operator(%) to the right side, and then the <code>XOR</code> operator. For <code>129 * message[i]</code>, maybe I can use the forloop to find out the right one.</p>
<p>For <code>% 256</code> we know it is only set a upperbound to our hash result, XOR <code>message[i - 1]</code> will not affect the result of modulo(message[i - 1] is in the interleaving [0, 255]). which means<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">digest[i] = ((129 * message[i]) XOR message[i - 1]) % 256</div><div class="line">          = ((129 * message[i]) % 256) XOR message[i - 1]</div></pre></td></tr></table></figure></p>
<p>Considering the expression below,<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a ^ b = c;</div><div class="line">c ^ b = a;</div><div class="line">c ^ a = b;</div></pre></td></tr></table></figure></p>
<p>Appearently we know this will happen, if you want the approvement, <a href="/2015/07/25/About-XOR-operator/">here is another post about this.</a></p>
<p>We know the value of <code>digest[i]</code> and <code>message[i - 1]</code>, so we get the expression below,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">digest[i] = ((129 * message[i]) % 256) XOR message[i - 1]</div><div class="line">digest[i] XOR message[i - 1] = (129 * message[i]) % 256</div></pre></td></tr></table></figure></p>
<p>Now the question become for x in [0, 255], y in [0, 255]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(129 * x) % 256 = y //we know what is y (digest[i] ^ message[i - 1])</div></pre></td></tr></table></figure>
<p><strong><strong> What is x ? </strong></strong><br>We don’t know it yet. Let us clear our mind and run these code in your chrome web developer tool.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">0</span>; x &lt;= <span class="number">255</span>; x++) &#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"x:"</span> + x + <span class="string">", result: "</span> + (<span class="number">129</span> * x % <span class="number">256</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>From the result, we will see in some number when we run this expression,<br><code>129 * x % 256</code> it will equals to x. To be more clearly, let us run the javascript code into chrome dvp tool one more time.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">0</span>; x &lt;= <span class="number">255</span>; x += <span class="number">2</span>) &#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"x:"</span> + x + <span class="string">", result: "</span> + <span class="number">129</span> * x % <span class="number">256</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> x = <span class="number">1</span>; x &lt;= <span class="number">255</span>; x += <span class="number">2</span>) &#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"x:"</span> + x + <span class="string">", result: "</span> + <span class="number">129</span> * x % <span class="number">256</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now we know that when the <code>x</code> is <strong><strong>EVEN</strong></strong>, <code>129 * x % 256</code> will equals to <code>x</code>. When <code>x</code> is <strong><strong>ODD</strong></strong> the result start from 129 until it reach 255, then it start from 1.</p>
<p>A very interesting fact about this express is, <code>129</code> and <code>256</code> are very insteresting numbers, <code>129 == 256 / 2 + 1</code>, Which means per two 129 we will get 258 and after mod 256 we only get <code>2</code>. when x is <strong><strong>EVEN</strong></strong>, let’s say x is <code>4</code>,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">129 * 4 % 256 = (129 * 2 + 129 * 2) % 256</div><div class="line">              = (256 + 2 + 256 + 2) % 256</div><div class="line">              = 4</div></pre></td></tr></table></figure></p>
<p>This is why when <code>x</code> is <strong><strong>EVEN</strong></strong> the result is equals to itself.</p>
<p>Then how about <code>x</code> is <strong><strong>ODD</strong></strong>? Assumming <code>x</code> is 5, we can get the result below,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">129 * 5 % 256 = (129 * 2 + 129 * 2 + 129) % 256</div><div class="line">              = (256 + 2 + 256 + 2 + 129) % 256</div><div class="line">              = 4 + 129 </div><div class="line">              = 5 + 128</div></pre></td></tr></table></figure></p>
<p>For <strong><strong>ODD</strong></strong> <code>x</code>, one thing we need to consider is, if <code>x</code> is larger than 128, this expression will smaller than 128, let’s say <code>x</code> is 131<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">129 * 131 % 256 = (129 * 128 + 129 * 3) % 256</div><div class="line">                = (128 * 128 + 128 + 256 + 2 + 129) % 256</div><div class="line">                = (128 + 129 + 2) % 256</div><div class="line">                = (256 + 3) % 256</div><div class="line">                = 3</div></pre></td></tr></table></figure></p>
<p>For now we can write down our pseudo code blow,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">if(digest[i] XOR message[i - 1] is EVEN) &#123;</div><div class="line">	//message[i] is EVEN</div><div class="line">	message[i] = digest[i] ^ message[i - 1]</div><div class="line">&#125; else &#123;</div><div class="line">	//message[i] is ODD</div><div class="line">	if(digest[i] &gt; 128) &#123;</div><div class="line">		if(message[i - 1] &gt; 128) &#123;</div><div class="line">			// 129 * message[i] % 256 &lt; 128</div><div class="line">			// message[i] &gt; 128</div><div class="line">			message[i] += 128;</div><div class="line">		&#125; else &#123;</div><div class="line">			// 129 * message[i] % 256 &gt; 128</div><div class="line">			// message[i] &lt; 128</div><div class="line">			message[i] -= 128;</div><div class="line">		&#125;</div><div class="line">	&#125; else &#123;</div><div class="line">		if(message[i - 1] &gt; 128) &#123;</div><div class="line">			// 129 * message[i] % 256 &gt; 128</div><div class="line">			// message[i] &lt; 128</div><div class="line">			message[i] += 128;</div><div class="line">		&#125; else &#123;</div><div class="line">			// 129 * message[i] % 256 &lt; 128</div><div class="line">			// message[i] &gt; 128</div><div class="line">			message[i] -= 128;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Here is Java Code,<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] reverseHash(<span class="keyword">int</span>[] digest) &#123;</div><div class="line">        <span class="keyword">int</span> prevM = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span>[] message = <span class="keyword">new</span> <span class="keyword">int</span>[digest.length];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; digest.length; i++) &#123;</div><div class="line">            message[i] = tmp;</div><div class="line">            <span class="keyword">if</span>(tmp % <span class="number">2</span> == <span class="number">1</span>) &#123;</div><div class="line">                <span class="keyword">if</span>(digest[i] &gt; <span class="number">128</span>) &#123;</div><div class="line">                    message[i] += message[i - <span class="number">1</span>] &gt; <span class="number">128</span> ? <span class="number">128</span> : -<span class="number">128</span>;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    message[i] += message[i - <span class="number">1</span>] &gt; <span class="number">128</span> ? <span class="number">128</span> : -<span class="number">128</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="comment">//corner case  e.g[1,1,1,1,1,1,1,1,1,1,1...];</span></div><div class="line">                message[i] = (message[i] + <span class="number">256</span>) % <span class="number">256</span>; </div><div class="line">            &#125; </div><div class="line">            prevM = message[i];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> message;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Personally, I think this problem really worth a try. It’s about some specify algorithm(e.g Dynamic Programming, Greedy Algorithm). This problem is only about the basic bit manipulation and some math stuff. At least, this problem tell me, it’s time to read the csapp one more time. : )</p>

            
        
        </div>
        
            
            
        
    </article>
    
        
    <nav class="article-page">
        
            <a href="/2015/08/01/Palindrome-PartionningII-Leetcode/" id="art-left" class="art-right">
                <span class="next-title">
                    Palindrome PartitioningII - Leetcode<i class="iconfont icon-right"></i> 
                </span>
            </a>
        
        
            <a href="/2015/07/25/About-XOR-operator/" id="art-right" class="art-left">
                <span class="prev-title"> 
                    <i class="iconfont icon-left"></i>About XOR operator
                </span>
            </a>
        
    </nav>

        
    


        </main>
        <footer class="footer syuanpi fadeIn" id="footer">
    <hr>
    <div class="footer-wrapper">
        <div class="left">
            <div class="contact-icon">
    
    
    
    
    
    
    
    
</div>
        </div>
        <div class="right">
            <div class="copyright">
    <div class="info">
        <span>&copy;</span>
        <span>1970 ~ 2017</span>
        <span>❤</span>
        <span>Tyler Yang</span>
    </div>
    <div class="theme">
        <span>
            Powered by
            <a href="http://hexo.io/" target="_blank">Hexo </a>
        </span>
        <span>
            Theme
            <a href="https://github.com/ColMugX/hexo-theme-Nlvi"> Nlvi </a>
        </span>
    </div>
    
</div>
        </div>
    </div>
</footer>
    </div>
    <script src="/script/nlvi.js"></script>
<script src="/script/search.js"></script>

    <script src="/lightbox/js/lightbox.min.js"></script>

<script>
$(document).ready(function(){
    document.body.addEventListener('touchstart', function () {});
    $('.progress').hide();
    $('.body').show();
    Nlvi.tagcloud();
    Nlvi.mobileHeader();
    Nlvi.back2top();
    Nlvi.smoothScroll();
    Nlvi.onView();
    Nlvi.showToc();
    Nlvi.showComments();
    Nlvi.showReward();
    Nlvi.picPos();

    !CONFIG.animate && Nlvi.offAnimate();
    CONFIG.lightbox && Nlvi.onPicBox();
})
</script>
    </div>
    
        
    
    <div class="backtop syuanpi dead toTop" id="backtop">
    <i class="iconfont icon-up"></i>
    <span style="text-align:center;font-family:Georgia;"><span style="font-family:Georgia;" id="scrollpercent">1</span>%</span>
</div>
    
    <div class="search" id="search">
        <div class="mask" id="mask"></div>
        <div class="search-wrapper syuanpi">
            <h1 id="search-header" class="syuanpi">搜索一下？</h1>
            <div class="input">
                <input type="text" id="local-search-input" results="0" name="">
            </div>
            <div id="local-search-result"></div>
        </div>
    </div>
    <script>
    var GREETING = {
        morning: "当我们探索时，就要发现到真理",
        noon: "人的天职在于勇于探索真理。",
        after: "一件事实是一条没有性别的真理",
        night: "真理有时可能变得黯淡，但它永远不会熄灭",
        midnight: "真理在人那里获得生命力，并且展现出来"
    }
    $(document).ready(function(){
        Nlvi.search();
    });
    </script>

</body>
</html>
